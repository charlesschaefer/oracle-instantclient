# This is the main Samba configuration file.
#
# It was dynamically generated by Chef on <%= node["fqdn"] %>
#
# Local modifications will be overwritten by Chef.
#

[global]
  workgroup = <%= node["class_samba"]["workgroup"] %>
  server string = <%= node["class_samba"]["server_string"] %>
  security = <%= node["class_samba"]["security"] %>
  interfaces = <%= node["class_samba"]["interfaces"] %>
  hosts allow = <%= node["class_samba"]["hosts_allow"] %>
  load printers = <%= node["class_samba"]["load_printers"] %>
  passdb backend = <%= node["class_samba"]["passdb_backend"] %>
  dns proxy = <%= node["class_samba"]["dns_proxy"] %>

  socket options = <%= node["class_samba"]["socket_options"] %>
  name resolve order = <%= node["class_samba"]["name_resolve_order"] %>

  client ntlmv2 auth = <%= node["class_samba"]["client_ntlmv2_auth"] %>
  restrict anonymous = <%= node["class_samba"]["restrict_anonymous"] %>
  min protocol = <%= node["class_samba"]["min_protocol"] %>

  printing = <%= node["class_samba"]["printing"] %>
  printcap name = <%= node["class_samba"]["printcap_name"] %>
  disable spoolss = <%= node["class_samba"]["disable_spoolss"] %>

  domain master = <%= node["class_samba"]["domain_master"] %> 
  local master = <%= node["class_samba"]["local_master"] %>
  preferred master = <%= node["class_samba"]["preferred_master"] %> 
  lm announce = <%= node["class_samba"]["lm_announce"] %> 
  disable netbios = <%= node["class_samba"]["disable_netbios"] %>

#============================ Share Definitions ==============================
[homes]
  comment = Home Directories
  browseable = no
  writeable = yes
  valid users = @classdev
  create mask = 0644
  directory mask = 0755
